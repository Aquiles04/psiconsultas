{"changed":true,"filter":false,"title":"HomeController.php","tooltip":"/cakephp/app/Controller/HomeController.php","value":"<?php\nclass HomeController extends AppController {\n    public $helpers = array ('Html','Form');\n    public $name = 'Home';\n    \n    \n    public function index() {\n        $this->layout = false;\n        $this->set('posts', []);\n    }\n    \n    public function view($id=null){\n    }\n    \n    public function add() {\n        $this->layout = false;\n        if ($this->request->is('post')) {\n            $this->request->data['Psicoterapeuta']['dtCadastro'] = date('Y-m-d h:m:s');\n            $this->request->data['Psicoterapeuta']['isCrpAtivo'] = 1;\n            $this->request->data['Psicoterapeuta']['isDeletado'] = 0;\n            //debug($this->request->data);die;\n            if ($this->Psicoterapeuta->save($this->request->data)) {\n                \n                $this->Flash->success('Psicoterapeuta salvo com sucesso.');\n                $this->redirect(array('action' => 'index'));\n            }\n        }\n    }\n    \n}\n","undoManager":{"mark":-2,"position":5,"stack":[[{"start":{"row":0,"column":0},"end":{"row":51,"column":1},"action":"remove","lines":["<?php","class HomeController extends AppController {","    public $helpers = array ('Html','Form');","    public $name = 'Home';","    ","    ","    public function index() {","        $this->layout = false;","        $this->set('posts', []);","    }","    ","    public function view($id=null){","        $this->set('post', $this->Post->findById($id));","    }","    ","    public function add() {","        $this->layout = false;","        if ($this->request->is('post')) {","            $this->request->data['Psicoterapeuta']['dtCadastro'] = date('Y-m-d h:m:s');","            $this->request->data['Psicoterapeuta']['isCrpAtivo'] = 1;","            $this->request->data['Psicoterapeuta']['isDeletado'] = 0;","            //debug($this->request->data);die;","            if ($this->Psicoterapeuta->save($this->request->data)) {","                ","                $this->Flash->success('Psicoterapeuta salvo com sucesso.');","                $this->redirect(array('action' => 'index'));","            }","        }","    }","    ","    function edit($id = null) {","        $this->Post->id = $id;","        if ($this->request->is('get')) {","            $this->request->data = $this->Post->findById($id);","        } else {","            if ($this->Post->save($this->request->data)) {","                $this->Flash->success('Your post has been updated.');","                $this->redirect(array('action' => 'index'));","            }","        }","    }","    ","    function delete($id) {","    if (!$this->request->is('post')) {","        throw new MethodNotAllowedException();","    }","    if ($this->Post->delete($id)) {","        $this->Flash->success('The post with id: ' . $id . ' has been deleted.');","        $this->redirect(array('action' => 'index'));","    }","}","}"],"id":2}],[{"start":{"row":0,"column":0},"end":{"row":51,"column":1},"action":"insert","lines":["<?php","class HomeController extends AppController {","    public $helpers = array ('Html','Form');","    public $name = 'Home';","    ","    ","    public function index() {","        $this->layout = false;","        $this->set('posts', []);","    }","    ","    public function view($id=null){","        $this->set('post', $this->Post->findById($id));","    }","    ","    public function add() {","        $this->layout = false;","        if ($this->request->is('post')) {","            $this->request->data['Psicoterapeuta']['dtCadastro'] = date('Y-m-d h:m:s');","            $this->request->data['Psicoterapeuta']['isCrpAtivo'] = 1;","            $this->request->data['Psicoterapeuta']['isDeletado'] = 0;","            //debug($this->request->data);die;","            if ($this->Psicoterapeuta->save($this->request->data)) {","                ","                $this->Flash->success('Psicoterapeuta salvo com sucesso.');","                $this->redirect(array('action' => 'index'));","            }","        }","    }","    ","    function edit($id = null) {","        $this->Post->id = $id;","        if ($this->request->is('get')) {","            $this->request->data = $this->Post->findById($id);","        } else {","            if ($this->Post->save($this->request->data)) {","                $this->Flash->success('Your post has been updated.');","                $this->redirect(array('action' => 'index'));","            }","        }","    }","    ","    function delete($id) {","    if (!$this->request->is('post')) {","        throw new MethodNotAllowedException();","    }","    if ($this->Post->delete($id)) {","        $this->Flash->success('The post with id: ' . $id . ' has been deleted.');","        $this->redirect(array('action' => 'index'));","    }","}","}"],"id":3}],[{"start":{"row":12,"column":0},"end":{"row":13,"column":0},"action":"remove","lines":["        $this->set('post', $this->Post->findById($id));",""],"id":4}],[{"start":{"row":29,"column":0},"end":{"row":48,"column":5},"action":"remove","lines":["    function edit($id = null) {","        $this->Post->id = $id;","        if ($this->request->is('get')) {","            $this->request->data = $this->Post->findById($id);","        } else {","            if ($this->Post->save($this->request->data)) {","                $this->Flash->success('Your post has been updated.');","                $this->redirect(array('action' => 'index'));","            }","        }","    }","    ","    function delete($id) {","    if (!$this->request->is('post')) {","        throw new MethodNotAllowedException();","    }","    if ($this->Post->delete($id)) {","        $this->Flash->success('The post with id: ' . $id . ' has been deleted.');","        $this->redirect(array('action' => 'index'));","    }"],"id":5}],[{"start":{"row":28,"column":4},"end":{"row":29,"column":0},"action":"remove","lines":["",""],"id":6}],[{"start":{"row":30,"column":0},"end":{"row":30,"column":1},"action":"remove","lines":["}"],"id":7}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":13,"column":4},"end":{"row":13,"column":4},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1509766362000}